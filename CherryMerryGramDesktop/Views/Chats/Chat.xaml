<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="CherryMerryGramDesktop.Views.Chats.Chat"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    HorizontalAlignment="Stretch"
    VerticalAlignment="Stretch"
    HorizontalContentAlignment="Stretch"
    VerticalContentAlignment="Stretch"
    Background="#2a2a2a">

    <Border>
        <Border.Background>
            <ImageBrush x:Name="ThemeBackground"  />
        </Border.Background>
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="60" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="50" />
            </Grid.RowDefinitions>
            
            <Grid VerticalAlignment="Top" HorizontalAlignment="Stretch" Height="50" MaxHeight="50" MinHeight="50"
                        Grid.Row="0" 
                        Padding="5">
                <Border x:Name="TopBar" Background="#1a1a1a" VerticalAlignment="Center" HorizontalAlignment="Stretch" 
                        CornerRadius="4" 
                        Padding="5">
                    <Grid x:Name="ChatInfo" HorizontalAlignment="Stretch"
                                VerticalAlignment="Center">
                        <Button x:Name="Back" Content="Back" Click="Back_OnClick" HorizontalAlignment="Left" 
                                VerticalAlignment="Center" />
                        <StackPanel Orientation="Vertical" VerticalAlignment="Center" HorizontalAlignment="Center">
                            <TextBlock x:Name="ChatTitle" FontSize="14" FontStyle="Oblique" TextAlignment="Center" />
                            <TextBlock x:Name="ChatMembers" FontSize="10" Foreground="Gray" TextAlignment="Center"/>
                        </StackPanel>
                        <Button x:Name="Call" Content="Call" Click="Call_OnClick" HorizontalAlignment="Right" 
                                VerticalAlignment="Center"
                                IsEnabled="False" />
                    </Grid>
                </Border>
            </Grid>
            
            <Grid VerticalAlignment="Bottom" HorizontalAlignment="Stretch" Grid.Row="1">
                    <ScrollViewer HorizontalAlignment="Stretch" VerticalAlignment="Bottom">
                        <StackPanel x:Name="MessagesList"/>
                    </ScrollViewer>
            </Grid>
            
            <Grid HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Height="50" MaxHeight="50" 
                        MinHeight="50" 
                        Grid.Row="2" Padding="5">
                <Border Background="#1a1a1a" HorizontalAlignment="Stretch" VerticalAlignment="Bottom" CornerRadius="4" Padding="5">
                    <StackPanel x:Name="UserActionsPanel" Orientation="Horizontal">
                        <TextBox x:Name="UserMessageInput" PlaceholderText="Enter your message" 
                                 HorizontalAlignment="Stretch"
                                 Width="Auto" />
                        <Button x:Name="Stickers" Content="Stickers" MaxHeight="25" MaxWidth="25" 
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch" />
                        <Button x:Name="SendMessage" Content="Send" MaxHeight="25" MaxWidth="25" 
                                Click="SendMessage_OnClick"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Stretch" />
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>
        
    </Border>
    
    
</Page>